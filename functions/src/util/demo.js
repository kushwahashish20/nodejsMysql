let imagedata={
  "final_report": [
    {
      "image_key": "qc/private/_job_id/qc_qwyhf42/input/images/variant-1.jpg",
      "report": [
        {
          "guideline_category": "Site Standards",
          "compliance_level": "Must",
          "name": "is_fashion_listing",
          "image_type": "all",
          "result": false
        },
        {
          "guideline_category": "Prohibited Content",
          "compliance_level": "Must",
          "name": "no_innerware_on_children",
          "image_type": "all",
          "result": false
        },
        {
          "guideline_category": "Technical Requirements",
          "compliance_level": "Must",
          "name": "max_image_size",
          "image_type": "all",
          "result": false
        },
        {
          "guideline_category": "Technical Requirements",
          "compliance_level": "Must",
          "name": "min_image_size",
          "image_type": "all",
          "result": false
        },
        {
          "guideline_category": "Technical Requirements",
          "compliance_level": "Must Meet",
          "name": "min_dpi",
          "image_type": "all",
          "result": false
        },
        {
          "guideline_category": "Technical Requirements",
          "compliance_level": "Must",
          "name": "allowed_image_format",
          "image_type": "all",
          "result": false
        },
        {
          "guideline_category": "Technical Requirements",
          "compliance_level": "Must",
          "name": "use_sRGB_color_profile",
          "image_type": "all",
          "result": false
        },
        {
          "guideline_category": "Technical Requirements",
          "compliance_level": "Must Meet",
          "name": "aspect_ratio",
          "image_type": "all",
          "result": false
        },
        {
          "guideline_category": "Technical Requirements",
          "compliance_level": "Must Meet",
          "name": "product_fill",
          "image_type": "all",
          "result": false
        },
        {
          "guideline_category": "Technical Requirements",
          "compliance_level": "Must Meet",
          "name": "proper_lighting",
          "image_type": "all",
          "result": false
        },
        {
          "guideline_category": "Site Standards",
          "compliance_level": "recommended",
          "name": "product_category_match",
          "image_type": "all",
          "result": false
        },
        {
          "guideline_category": "Prohibited Content",
          "compliance_level": "recommended",
          "name": "no_nudity",
          "image_type": "all",
          "result": false
        },
        {
          "guideline_category": "File Naming Standards",
          "compliance_level": "Must Meet",
          "name": "proper_file_name",
          "image_type": "all",
          "result": false
        }
      ]
    }
  ],
  "job_id": "qc_qwyhf42"
}

let dumyData=[
  {
    "Site Standards": [
      {
        "guideline_category": "Site Standards",
        "compliance_level": "Must Meet",
        "name": "is_fashion_listing",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Site Standards",
        "compliance_level": "Must Meet",
        "name": "fashion_model_look_professional",
        "image_type": "main",
        "result": false
      },
      {
        "guideline_category": "Site Standards",
        "compliance_level": "Must Meet",
        "name": "image_crop_nose_down",
        "image_type": "main",
        "result": false
      },
      {
        "guideline_category": "Site Standards",
        "compliance_level": "Must Meet",
        "name": "product_category_match",
        "image_type": "all",
        "result": false
      }
    ],
    "Main Image Standards": [
      {
        "guideline_category": "Main Image Standards",
        "compliance_level": "Must Meet",
        "name": "single_model_in_main_image",
        "image_type": "main",
        "result": false
      },
      {
        "guideline_category": "Main Image Standards",
        "compliance_level": "Must Meet",
        "name": "proper_pose",
        "image_type": "main",
        "result": false
      },
      {
        "guideline_category": "Main Image Standards",
        "compliance_level": "Must Meet",
        "name": "no_props",
        "image_type": "main",
        "result": false
      },
      {
        "guideline_category": "Main Image Standards",
        "compliance_level": "Must Meet",
        "name": "accessories_off_model",
        "image_type": "main",
        "result": false
      },
      {
        "guideline_category": "Main Image Standards",
        "compliance_level": "Must Meet",
        "name": "multipack_off_model",
        "image_type": "main",
        "result": false
      },
      {
        "guideline_category": "Main Image Standards",
        "compliance_level": "Must Meet",
        "name": "single_product_in_multipack",
        "image_type": "main",
        "result": false
      },
      {
        "guideline_category": "Main Image Standards",
        "compliance_level": "Must Meet",
        "name": "no_logo_text_graphics",
        "image_type": "main",
        "result": false
      },
      {
        "guideline_category": "Main Image Standards",
        "compliance_level": "Must Meet",
        "name": "no_promo_text",
        "image_type": "main"
      }
    ],
    "Prohibited Content": [
      {
        "guideline_category": "Prohibited Content",
        "compliance_level": "Must Meet",
        "name": "no_child_model_in_childware",
        "image_type": "main"
      },
      {
        "guideline_category": "Prohibited Content",
        "compliance_level": "Must Meet",
        "name": "no_innerware_on_children",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Prohibited Content",
        "compliance_level": "Must Meet",
        "name": "no_nudity",
        "image_type": "all",
        "result": false
      }
    ],
    "Technical Requirements": [
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must Meet",
        "name": "max_image_size",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must Meet",
        "name": "min_image_size",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must Meet",
        "name": "min_dpi",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must Meet",
        "name": "allowed_image_format",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must Meet",
        "name": "use_sRGB_color_profile",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must Meet",
        "name": "aspect_ratio",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must Meet",
        "name": "product_fill",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must Meet",
        "name": "proper_lighting",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must Meet",
        "name": "white_background",
        "image_type": "main"
      }
    ],
    "File Naming Standards": [
      {
        "guideline_category": "File Naming Standards",
        "compliance_level": "Must Meet",
        "name": "proper_file_name",
        "image_type": "all",
        "result": false
      }
    ]
  },
  {
    "Site Standards": [
      {
        "guideline_category": "Site Standards",
        "compliance_level": "Must",
        "name": "is_fashion_listing",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Site Standards",
        "compliance_level": "recommended",
        "name": "product_category_match",
        "image_type": "all",
        "result": false
      }
    ],
    "Prohibited Content": [
      {
        "guideline_category": "Prohibited Content",
        "compliance_level": "Must",
        "name": "no_innerware_on_children",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Prohibited Content",
        "compliance_level": "recommended",
        "name": "no_nudity",
        "image_type": "all",
        "result": false
      }
    ],
    "Technical Requirements": [
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must",
        "name": "max_image_size",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must",
        "name": "min_image_size",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must Meet",
        "name": "min_dpi",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must",
        "name": "allowed_image_format",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must",
        "name": "use_sRGB_color_profile",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must Meet",
        "name": "aspect_ratio",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must Meet",
        "name": "product_fill",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must Meet",
        "name": "proper_lighting",
        "image_type": "all",
        "result": false
      }
    ],
    "File Naming Standards": [
      {
        "guideline_category": "File Naming Standards",
        "compliance_level": "Must Meet",
        "name": "proper_file_name",
        "image_type": "all",
        "result": false
      }
    ]
  },
  {
    "Site Standards": [
      {
        "guideline_category": "Site Standards",
        "compliance_level": "recommended",
        "name": "is_fashion_listing",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Site Standards",
        "compliance_level": "Must Meet",
        "name": "product_category_match",
        "image_type": "all",
        "result": false
      }
    ],
    "Prohibited Content": [
      {
        "guideline_category": "Prohibited Content",
        "compliance_level": "recommended",
        "name": "no_innerware_on_children",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Prohibited Content",
        "compliance_level": "Must Meet",
        "name": "no_nudity",
        "image_type": "all",
        "result": false
      }
    ],
    "Technical Requirements": [
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must Meet",
        "name": "max_image_size",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "recommended",
        "name": "min_image_size",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must Meet",
        "name": "min_dpi",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "recommended",
        "name": "allowed_image_format",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must Meet",
        "name": "use_sRGB_color_profile",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "recommended",
        "name": "aspect_ratio",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "recommended",
        "name": "product_fill",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must Meet",
        "name": "proper_lighting",
        "image_type": "all",
        "result": false
      }
    ],
    "File Naming Standards": [
      {
        "guideline_category": "File Naming Standards",
        "compliance_level": "recommended",
        "name": "proper_file_name",
        "image_type": "all",
        "result": false
      }
    ]
  },
  {
    "Site Standards": [
      {
        "guideline_category": "Site Standards",
        "compliance_level": "Must Meet",
        "name": "is_fashion_listing",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Site Standards",
        "compliance_level": "Must Meet",
        "name": "product_category_match",
        "image_type": "all",
        "result": false
      }
    ],
    "Prohibited Content": [
      {
        "guideline_category": "Prohibited Content",
        "compliance_level": "Must Meet",
        "name": "no_innerware_on_children",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Prohibited Content",
        "compliance_level": "Must Meet",
        "name": "no_nudity",
        "image_type": "all",
        "result": false
      }
    ],
    "Technical Requirements": [
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must Meet",
        "name": "max_image_size",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must Meet",
        "name": "min_image_size",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must Meet",
        "name": "min_dpi",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must Meet",
        "name": "allowed_image_format",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must Meet",
        "name": "use_sRGB_color_profile",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must Meet",
        "name": "aspect_ratio",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must Meet",
        "name": "product_fill",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must Meet",
        "name": "proper_lighting",
        "image_type": "all",
        "result": false
      }
    ],
    "File Naming Standards": [
      {
        "guideline_category": "File Naming Standards",
        "compliance_level": "Must Meet",
        "name": "proper_file_name",
        "image_type": "all",
        "result": false
      }
    ]
  },
  {
    "Site Standards": [
      {
        "guideline_category": "Site Standards",
        "compliance_level": "critical",
        "name": "is_fashion_listing",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Site Standards",
        "compliance_level": "critical",
        "name": "product_category_match",
        "image_type": "all",
        "result": false
      }
    ],
    "Prohibited Content": [
      {
        "guideline_category": "Prohibited Content",
        "compliance_level": "recommended",
        "name": "no_innerware_on_children",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Prohibited Content",
        "compliance_level": "critical",
        "name": "no_nudity",
        "image_type": "all",
        "result": false
      }
    ],
    "Technical Requirements": [
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "critical",
        "name": "max_image_size",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must Meet",
        "name": "min_image_size",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "critical",
        "name": "min_dpi",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "critical",
        "name": "allowed_image_format",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "critical",
        "name": "use_sRGB_color_profile",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must Meet",
        "name": "aspect_ratio",
        "image_type": "all",
        "result": false
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "critical",
        "name": "product_fill",
        "image_type": "all",
        "result": true
      },
      {
        "guideline_category": "Technical Requirements",
        "compliance_level": "Must Meet",
        "name": "proper_lighting",
        "image_type": "all",
        "result": false
      }
    ],
    "File Naming Standards": [
      {
        "guideline_category": "File Naming Standards",
        "compliance_level": "critical",
        "name": "proper_file_name",
        "image_type": "all",
        "result": false
      }
    ]
  }
]

const groupBy = (x, f) => x.reduce((a, b) => ((a[f(b)] ||= []).push(b), a), {});
groupByComplianceLevel(imagedata);
function groupByComplianceLevel(imageData){

  let tabName = {};
  let finalAnalyzers = [];
  let finalGroupForImage = [];

  // Outer loop for each image
  imageData.final_report.forEach(finalReport=>{
    // Category Group
    let currentGroup=groupBy(finalReport.report, v => v.guideline_category);

    // Category Keys
    let tabNames = Object.keys(currentGroup);


    tabNames.forEach(category => {
      let categoryLevelMap = {};
      let currentCategoryGroup = currentGroup[category];
      let currentSecondLevelGroup = groupBy(currentCategoryGroup, v => v.compliance_level);
      categoryLevelMap["category_name"] = category;
      categoryLevelMap["result"] = currentSecondLevelGroup;
      finalGroupForImage.push(categoryLevelMap);
    });

  });

  console.log(JSON.stringify(finalGroupForImage));
}